CHIP RAM32K {
    IN in[16], load, addr[15];
    OUT out[16];

    PARTS:
DMux4Way(in=load, sel=addr[13..14], a=a, b=b, c=c, d=d);
DMux4Way(in=load, sel=addr[13..14], a=e, b=f, c=g, d=h);

RAM4K(in=in,load=a,address=addr[0..12],out=oa);
RAM4K(in=in,load=b,address=addr[0..12],out=ob);
RAM4K(in=in,load=c,address=addr[0..12],out=oc);
RAM4K(in=in,load=d,address=addr[0..12],out=od);
RAM4K(in=in,load=e,address=addr[0..12],out=oe);
RAM4K(in=in,load=f,address=addr[0..12],out=of);
RAM4K(in=in,load=g,address=addr[0..12],out=og);
RAM4K(in=in,load=h,address=addr[0..12],out=oh);

Mux8Way16(a = oa, b = ob, 
          c = oc, d = od, e = oe,
          f = of, g = og, h = oh,
          sel = addr[13..14], out = out);
}